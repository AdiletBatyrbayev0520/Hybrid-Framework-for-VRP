# Веб-платформа для решения задачи коммивояжера

Веб-интерфейс для визуализации и решения задачи коммивояжера с использованием различных алгоритмов и сервисов.

## Возможности

- Интерактивная карта для добавления и управления точками
- Визуализация маршрутов с анимацией и стрелками направления
- Возможность включения/отключения анимации маршрутов
- Автоматическое масштабирование карты для отображения всех точек
- Поддержка нескольких алгоритмов:
  - 2GIS API для небольшого количества точек (до 10)
  - Алгоритм Хелда-Карпа (динамическое программирование)
  - Алгоритм Q-learning (обучение с подкреплением)
- Загрузка данных из CSV-файлов
- Прокручиваемый список точек с фиксированной высотой
- Отображение статистики (время выполнения, общее расстояние)

## Структура проекта

```
WebPlatform/
├── public/                # Статические файлы
│   ├── marker.svg         # Маркер обычной точки
│   └── w-marker.svg       # Маркер складов
├── src/                   # Исходный код
│   ├── components/        # React-компоненты
│   │   ├── AppMap.tsx     # Компонент карты
│   │   ├── Routes.tsx     # Компонент отображения маршрутов
│   │   ├── Coord.tsx      # Компонент для отображения координат
│   │   └── SelectedCoordinates.tsx  # Список выбранных координат
│   ├── App.tsx            # Главный компонент приложения
│   ├── types.ts           # Типы TypeScript
│   └── main.tsx           # Точка входа
├── package.json           # Зависимости и скрипты
└── tsconfig.json          # Конфигурация TypeScript
```

## Быстрый старт

### Предварительные требования
- Node.js 16.0+
- npm или yarn
- Запущенные API-серверы (см. инструкции в `Application_part/README.md`)

### Установка и запуск

```bash
# Переход в директорию веб-платформы
cd WebPlatform

# Установка зависимостей
npm install

# Запуск в режиме разработки
npm run dev
```

Приложение будет доступно по адресу: `http://localhost:5173`

## Использование веб-интерфейса

### 1. Добавление точек

- **Клик по карте**: Добавляет новую точку с координатами места клика
- **Загрузка CSV**: Для алгоритмов Held-Karp и Q-learning доступна кнопка загрузки CSV-файлов с координатами и матрицей расстояний

### 2. Управление точками

- **Изменение типа**: Можно изменить тип точки, кликнув по букве C (клиент) или W (склад)
- **Удаление точки**: Кнопка удаления рядом с каждой точкой в списке
- **Просмотр списка**: Список точек ограничен высотой 4 элементов, остальные доступны через прокрутку

### 3. Настройка расчета маршрута

- **Выбор алгоритма**:
  - 2Gis API: Использует API 2GIS для расчета матрицы расстояний (до 10 точек)
  - Held-Karp: Точный алгоритм динамического программирования
  - Q-learning: Алгоритм обучения с подкреплением для больших задач

- **Дополнительные настройки** (для 2GIS API):
  - Тип транспорта (Driving, Truck, Taxi)
  - Тип расчета (Jam, Statistics, Shortest)

### 4. Расчет и визуализация

- **Кнопка SEND**: Запускает расчет маршрута выбранным алгоритмом
- **Переключатель анимации**: Позволяет включить/отключить анимацию появления маршрутов
- **Результаты**: Отображаются на карте и в таблице маршрутов с информацией о расстоянии и времени

## Взаимодействие с API

Веб-платформа взаимодействует с двумя API-серверами:

- **DP API** (`http://localhost:8000`): Для алгоритма Хелда-Карпа
- **RL API** (`http://localhost:8001`): Для алгоритма Q-learning

Для корректной работы необходимо запустить API-серверы перед использованием соответствующих алгоритмов.

## Технический стек

- React 18
- TypeScript
- Vite
- Leaflet (для карт)
- leaflet-arrowheads (для стрелок на маршрутах)
- Tailwind CSS (для стилей)
- Ant Design (для UI-компонентов)
- PapaParse (для работы с CSV-файлами) 